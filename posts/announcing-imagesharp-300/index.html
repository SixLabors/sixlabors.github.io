<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Six Labors : Announcing ImageSharp 3.0.0</title>
    <meta name="description" content="ImageSharp 3 - An elegant weapon for a more civilized age">
    <link rel="preconnect" href="https://fonts.gstatic.com"/>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"/>
    <link 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
      rel="stylesheet" 
      integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
      crossorigin="anonymous">
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/styles/default.min.css"/>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlightjs-themes@1.0.0/monokai_sublime.min.css"/>
    <link rel="stylesheet" href="/css/style.css">
    
    
    <link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Six Labors">
    <link rel="alternate" href="/feed/feed.json" type="application/json" title="Six Labors">
    <meta name="msvalidate.01" content="BA6460B0F12FECDF7D03F34A5709833F"/>
  </head>
  <body>
    <header class="navbar navbar-expand-md sl-navbar shadow-sm">
      <nav class="container-xxl flex-wrap flex-md-nowrap">
        <a class="navbar-brand" href="/">
          <img
            src="/css/img/sixlabors.text.svg"
            alt="Six Labors"
            class="sl-brand"/>
          <span class="visually-hidden">Six Labors</span>
        </a>
        <button
          class="navbar-toggler collapsed"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#slNavbar"
          aria-controls="slNavbar"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            class="bi"
            fill="currentColor"
            viewBox="0 0 16 16">
            <path
              fill-rule="evenodd"
              d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"
            ></path>
          </svg>
        </button>
        <div class="navbar-collapse collapse" id="slNavbar">
          <ul class="navbar-nav flex-row flex-wrap sl-navbar-nav pt-2 py-md-0">
              <li class="nav-item col-6 col-md-auto" >
                <a 
                  class="nav-link p-2" 
                  href="/"
                  >Home</a>
              </li>
              <li class="nav-item col-6 col-md-auto" >
                <a 
                  class="nav-link p-2" 
                  href="/products/"
                  >Products</a>
              </li>
              <li class="nav-item col-6 col-md-auto" >
                <a 
                  class="nav-link p-2" 
                  href="/pricing/"
                  >Pricing</a>
              </li>
              <li class="nav-item col-6 col-md-auto" >
                <a 
                  class="nav-link p-2" 
                  href="https://docs.sixlabors.com"
                   target="_blank" rel="noopener">Documentation</a>
              </li>
              <li class="nav-item col-6 col-md-auto" >
                <a 
                  class="nav-link p-2" 
                  href="/posts/"
                  >Blog</a>
              </li>
          </ul>

          <hr class="d-md-none text-secondary"/>

          <ul class="navbar-nav flex-row flex-wrap ms-md-auto">
            <li class="nav-item col-6 col-md-auto">
              <a
                class="nav-link p-2"
                href="https://github.com/sixlabors"
                target="_blank"
                rel="noopener">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="36"
                  height="36"
                  class="navbar-nav-svg d-inline-block align-text-top"
                  viewBox="0 0 512 499.36"
                  role="img">
                  <title>GitHub</title>
                  <path
                    fill="currentColor"
                    fill-rule="evenodd"
                    d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"
                  ></path>
                </svg>
                <span class="d-md-none ms-2">GitHub</span>
              </a>
            </li>
            <li class="nav-item col-6 col-md-auto">
              <a
                class="nav-link p-2"
                href="https://twitter.com/sixlabors"
                target="_blank"
                rel="noopener"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="36"
                  height="36"
                  class="navbar-nav-svg d-inline-block align-text-top"
                  viewBox="0 0 512 416.32"
                  role="img">
                  <title>Twitter</title>
                  <path
                    fill="currentColor"
                    d="M160.83 416.32c193.2 0 298.92-160.22 298.92-298.92 0-4.51 0-9-.2-13.52A214 214 0 0 0 512 49.38a212.93 212.93 0 0 1-60.44 16.6 105.7 105.7 0 0 0 46.3-58.19 209 209 0 0 1-66.79 25.37 105.09 105.09 0 0 0-181.73 71.91 116.12 116.12 0 0 0 2.66 24c-87.28-4.3-164.73-46.3-216.56-109.82A105.48 105.48 0 0 0 68 159.6a106.27 106.27 0 0 1-47.53-13.11v1.43a105.28 105.28 0 0 0 84.21 103.06 105.67 105.67 0 0 1-47.33 1.84 105.06 105.06 0 0 0 98.14 72.94A210.72 210.72 0 0 1 25 370.84a202.17 202.17 0 0 1-25-1.43 298.85 298.85 0 0 0 160.83 46.92"
                  ></path>
                </svg>
                <span class="d-md-none ms-2">Twitter</span>
              </a>
            </li>
            <li class="nav-item col-6 col-md-auto">
              <a
                class="nav-link p-2"
                href="https://opencollective.com/sixlabors"
                target="_blank"
                rel="noopener">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="36"
                  height="36"
                  fill="currentColor"
                  fill-rule="evenodd"
                  class="navbar-nav-svg d-inline-block align-text-top"
                  viewBox="0 0 40 41"
                  role="img">
                  <title>Open Collective</title>
                  <path
                    fill-opacity=".4"
                    d="M32.8 21c0 2.4-.8 4.9-2 6.9l5.1 5.1c2.5-3.4 4.1-7.6 4.1-12 0-4.6-1.6-8.8-4-12.2L30.7 14c1.2 2 2 4.3 2 7z"
                  ></path>
                  <path
                    d="M20 33.7a12.8 12.8 0 0 1 0-25.6c2.6 0 5 .7 7 2.1L32 5a20 20 0 1 0 .1 31.9l-5-5.2a13 13 0 0 1-7 2z"
                  ></path>
                </svg>
                <span class="d-md-none ms-2">Open Collective</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <main class="tmpl-post" role="main">
      



      <div class="masthead">
  <div class="container">
    <h1 class="mb-3">
      Announcing ImageSharp 3.0.0
    </h1>
    <p class="lead mb-4">
      ImageSharp 3 - An elegant weapon for a more civilized age
    </p>
    <div><a href="/tags/releases/" class="post-tag btn btn-primary shadow">Releases</a><a href="/tags/imagesharp/" class="post-tag btn btn-primary shadow">ImageSharp</a>
    </div>
  </div>
</div>

<section>
  <div class="container">
    <div class= row>
      <div class="col-md-8">
        <article>
          <time datetime="2023-03-01">01 Mar 2023</time>

          <div class="ratio ratio-16x9">
<iframe src="https://www.youtube.com/embed/vQA5aLctA0I" allow="autoplay; encrypted-media;" allowfullscreen></iframe>
</div>
<p>We are very excited to announce the release of ImageSharp 3.0.0 final. You can <a href="https://www.nuget.org/packages/SixLabors.ImageSharp/3.0.0" target="_blank">download it today</a>.</p>
<p>This release is the culmination of nearly 9 months of work and marks a major shift in the development of ImageSharp.</p>
<p>With V3 we've changed the target framework to support the latest .NET 6 LTS.</p>
<p>By removing support for legacy frameworks we've been able to delete a lot of old code that was preventing us from providing much needed improvements throughout the library. As a result we've been able to simplify many of our internal and public APIs and deliver incredible performance improvements in several areas.</p>
<p>Going forward each major version will only support the current .NET LTS.</p>
<p>Don't worry! The V2 package is not going anywhere so if you cannot update your target framework we've still got you covered.</p>
<p>V3 will also be the first version to use the new <a href="https://raw.githubusercontent.com/SixLabors/ImageSharp/main/LICENSE" target="_blank">Six Labors Split License</a>.</p>
<h2 id="what's-new-since-v2." tabindex="-1">What's new since V2. <a class="direct-link" href="#what's-new-since-v2.">#</a></h2>
<p>As ever we've been very busy!</p>
<ul>
<li>Introduced new <a href="https://docs.sixlabors.com/api/ImageSharp/SixLabors.ImageSharp.Formats.ImageDecoder.html" target="_blank">ImageDecoder</a> and <a href="https://docs.sixlabors.com/api/ImageSharp/SixLabors.ImageSharp.Formats.ImageEncoder.html" target="_blank">ImageEncoder</a> base types that make custom implementations an order of mgnitude easier.</li>
<li>Introduced border wrapping modes for all convolution operations - This allow tiling of output operations.</li>
<li>Introduced a new Median Blur processor.</li>
<li>Added support for decoding Jpeg's with arithmetic encoding.</li>
<li>Added support for <a href="http://jpegclub.org/djpeg/" target="_blank">Fast IDCT Scaling</a> to the jpeg decoder (<em>more on that below</em>).</li>
<li>We now preserve the ICC Profile when working with Webp, Bmp, and Png images.</li>
<li>Expanded support for Tiff to cover many additional encoding formats.</li>
<li>Fixed issues with our Gif format that resulted in malformed multi-frame gifs.</li>
<li>Fixed issues with our WebP format which resulted in larger than expected files when encoding lossy output with alpha data.</li>
<li>Much much more....</li>
</ul>
<p>Please read the <a href="https://github.com/SixLabors/ImageSharp/releases/tag/v3.0.0" target="_blank">release notes</a> for detailed release information.</p>
<h3 id="breaking-changes" tabindex="-1">Breaking Changes <a class="direct-link" href="#breaking-changes">#</a></h3>
<p>We try to avoid breaking changes when we can but this release contains a few major ones that we really needed to make to ensure the future success of the library.</p>
<ul>
<li>We've introduce support for <a href="https://learn.microsoft.com/en-us/dotnet/csharp/nullable-references" target="_blank">Nullable Reference Types</a> across all our APIs which will change the method signatures in several places.</li>
<li>We've completely overhauled and simplified our general decoding API and have introduced new shared options for all our decoders that allow controlling the decoding operation (<em>more on that below</em>).</li>
</ul>
<h4 id="decoderoptions---the-weapon-of-a-jedi-knight" tabindex="-1">DecoderOptions - The Weapon of a Jedi Knight <a class="direct-link" href="#decoderoptions---the-weapon-of-a-jedi-knight">#</a></h4>
<p>The newly introduced <a href="https://docs.sixlabors.com/api/ImageSharp/SixLabors.ImageSharp.Formats.DecoderOptions.html" target="_blank"><code>DecoderOptions</code></a> provide developers a powerful way to instruct our load APIs in a normalized fashion. These options are accessible to all our decoders and allow us to do some very cool things.</p>
<p>For example, the following code allows us to return the decoded image comprised of a single frame at the requested maximum size in each direction. For jpeg this is especially useful as it allows us to take advantage of super fast IDCT scaling operations within the format that give us an impressive performance boost and uses less memory in the process.</p>
<p>The image is saved using the same image format using information added to the metadata following the decoding operation.</p>
<div class="frame">
<pre><code class="language-c#">DecoderOptions options = new()
{
    MaxFrames = 1,
    TargetSize = new(150, 150)
};

using var image = Image.Load(options, inputStream);
image.Save(outputStream, image.Metadata.DecodedImageFormat);
</code></pre>
</div>
<p>Pretty neat eh?</p>
<p>In addition to the general decoding API we offer additional specialized decoding options <a href="https://docs.sixlabors.com/api/ImageSharp/SixLabors.ImageSharp.Formats.ISpecializedDecoderOptions.html" target="_blank"><code>ISpecializedDecoderOptions</code></a> that can be accessed directly against <a href="https://docs.sixlabors.com/api/ImageSharp/SixLabors.ImageSharp.Formats.ISpecializedImageDecoder-1.html" target="_blank"><code>ISpecializedDecoder&lt;T&gt;</code></a> instances which provide further options for decoding.</p>
<p>A perfect balance of simplicity and power!</p>
<h2 id="performance" tabindex="-1">Performance <a class="direct-link" href="#performance">#</a></h2>
<p>Performance has always been a feature of ImageSharp and we're always looking for ways to squeeze out improvements across the entire library in each release. This release is no different with many improvements across several areas.</p>
<p>One of the areas that has long been a point of interest and a known performance issue has been our handling of alpha compositing.</p>
<p>From <a href="https://en.wikipedia.org/wiki/Alpha_compositing" target="_blank">Wikipedia</a></p>
<blockquote>
<p>In computer graphics, alpha compositing or alpha blending is the process of combining one image with a background to create the appearance of partial or full transparency. It is often useful to render picture elements (pixels) in separate passes or layers and then combine the resulting 2D images into a single, final image called the composite. Compositing is used extensively in film when combining computer-rendered image elements with live footage. Alpha blending is also used in 2D computer graphics to put rasterized foreground elements over a background.</p>
</blockquote>
<p>Alpha compositing is the backbone for any blending operation. This covers the simple act of overlaying an image to all complex drawing operations (<em>think lines, curves, brushes, pens, text</em>). In V2 this was a bottleneck for all those operations and greatly hindered our ability to ship an additional drawing package.</p>
<p><strong>In V3 we've blown things out of the water and improved performance by a whopping 14.4x!</strong></p>
<p>This was achieved by conducting a complete overhaul of the existing <code>Vector4</code> implementation (<em>6.1x faster than the previous implementation</em>) and introducing a new <a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions" target="_blank">AVX2</a> pipeline which brings improvement to 14.4x.</p>
<p>This change will allow us to complete the ImageSharp.Drawing library safe in the knowledge that we can bring excellent performance to the table.</p>
<p>In addition to those changes we've introduced a 2x speedup for all operations involving our <a href="https://docs.sixlabors.com/api/ImageSharp/SixLabors.ImageSharp.ColorMatrix.html" target="_blank"><code>ColorMatrix</code></a> type. This brings great improvement across all our filtering methods including adjustments for brightness and contrast.</p>
<h2 id="the-future" tabindex="-1">The Future <a class="direct-link" href="#the-future">#</a></h2>
<p>We'll be publishing new releases over the next few days of all our libraries that depend on ImageSharp. That means a new major version <a href="https://github.com/SixLabors/ImageSharp.Web" target="_blank">SixLabors.ImageSharp.Web</a>.</p>
<p>We'll also concentrate on shipping V1 versions of <a href="https://github.com/SixLabors/ImageSharp.Drawing" target="_blank">SixLabors.ImageSharp.Drawing</a> and <a href="https://github.com/SixLabors/Fonts" target="_blank">SixLabors.Fonts</a> targeting a release date in the first half of this year.</p>
<h2 id="closing" tabindex="-1">Closing <a class="direct-link" href="#closing">#</a></h2>
<p>Thanks again for all the feedback and usage. It's been a pleasure to build ImageSharp so far and to see so many people try it out; we really appreciate it. Please continue exploring the product and learning what it's capable of.</p>

            <hr>
            <ul>
                <li>Previous: <a href="/posts/imagesharp-leaves-net-foundation/">ImageSharp leaves the .NET foundation.</a>
                </li>
              
            </ul>
        </article>
      </div>
      <div class="col-md-3 offset-md-1">
        <aside>
          <h3>Tags</h3>
          <ul>
            
              
              <li>
                <a href="/tags/imagesharp/" class="post-tag btn btn-primary shadow">ImageSharp</a>
              </li>
            
              
              <li>
                <a href="/tags/fonts/" class="post-tag btn btn-primary shadow">Fonts</a>
              </li>
            
              
              <li>
                <a href="/tags/shapes/" class="post-tag btn btn-primary shadow">Shapes</a>
              </li>
            
              
              <li>
                <a href="/tags/releases/" class="post-tag btn btn-primary shadow">Releases</a>
              </li>
            
              
              <li>
                <a href="/tags/imagesharp.web/" class="post-tag btn btn-primary shadow">ImageSharp.Web</a>
              </li>
            
              
              <li>
                <a href="/tags/announcements/" class="post-tag btn btn-primary shadow">Announcements</a>
              </li>
            
              
              <li>
                <a href="/tags/licensing/" class="post-tag btn btn-primary shadow">Licensing</a>
              </li>
            
          </ul>

        </aside>

        <aside>
          
          <h3>Recent  Posts
          </h3>

          
          
          <ul class="postlist">
            
              <li class="postlist-item">
                <a href="/posts/announcing-imagesharp-300/" class="postlist-link">
                  Announcing ImageSharp 3.0.0
                  
                </a>
              </li>
            
              <li class="postlist-item">
                <a href="/posts/imagesharp-leaves-net-foundation/" class="postlist-link">
                  ImageSharp leaves the .NET foundation.
                  
                </a>
              </li>
            
              <li class="postlist-item">
                <a href="/posts/license-changes/" class="postlist-link">
                  License Changes for Six Labors Products
                  
                </a>
              </li>
            
              <li class="postlist-item">
                <a href="/posts/announcing-imagesharp-web-200/" class="postlist-link">
                  Announcing ImageSharp.Web 2.0.0
                  
                </a>
              </li>
            
              <li class="postlist-item">
                <a href="/posts/announcing-imagesharp-200/" class="postlist-link">
                  Announcing ImageSharp 2.0.0
                  
                </a>
              </li>
            
          </ul>

          <p>More posts can be found in <a href="/posts/">the archive</a>.</p>
        </aside>
      </div>
    </div>
  </div>
</section>


    </main>

    <footer class="sl-footer p-3 p-md-5 mt-5 bg-light text-center text-sm-start">
      <div class="container">
        <ul class="sl-footer-links ps-0 mb-3">
          <li class="d-inline-block">
            <a href="https://github.com/sixlabors">GitHub</a>
          </li>
          <li class="d-inline-block ms-3">
            <a href="https://twitter.com/sixlabors">Twitter</a>
          </li>
        </ul>
        <p class="mb-0">Copyright Six Labors &copy;</p>
        <hr/>
        <p>
          <img
            src="/css/img/sixlabors.text.svg"
            alt="Six Labors"
            class="sl-brand"/>
        </p>
        <p>Six Labors acknowledges the traditional owners and custodians of country throughout Australia and acknowledges their continuing connection to land, waters and community. We pay our respects to the people, the cultures and the elders past, present and emerging.</p>
      </div>
    </footer>

    <!-- Current page: /posts/announcing-imagesharp-300/ -->
    <script 
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" 
      integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.6.0/build/highlight.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></script>
    <script>
      hljs.highlightAll();
      hljs.initLineNumbersOnLoad({singleLine: true});
    </script>
    <script>
      (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
          (i[r].q = i[r].q || []).push(arguments)
        },
        i[r].l = 1 * new Date();
        a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m
          .parentNode
          .insertBefore(a, m)
      })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

      ga('create', 'UA-92691012-1', 'auto');
      ga('send', 'pageview');
    </script>
  </body>
</html>